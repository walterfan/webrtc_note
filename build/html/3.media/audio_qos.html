<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Audio QoS &mdash; webrtc_tutorial 1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Acoustic Echo Canceller" href="audio_aec.html" />
    <link rel="prev" title="Web Audio API" href="audio_api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            webrtc_tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0.tutorial/index.html">0. WebRTC 简明教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.basic/index.html">1. WebRTC 基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.transport/index.html">2. WebRTC 传输</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. WebRTC 媒体</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">WebRTC 媒体概论</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="webrtc_audio.html">WebRTC 音频</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="audio_basic.html">Audio Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_process.html">Audio Process pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_level.html">Audio Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_api.html">Web Audio API</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Audio QoS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a">3A</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">差错检测与恢复</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="audio_aec.html">Acoustic Echo Canceller</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_vad.html">Voice Activity Detector</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_agc.html">Automatic Gain Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_ans.html">Automatic Noise Suppression</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_jitter_buffer.html">Jitter Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_worklet.html">Audio worklet</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_quality.html">Audio Quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_analysis.html">Audio Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="audio_opus.html">Opus Codec</a></li>
<li class="toctree-l3"><a class="reference internal" href="webrtc_audio.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="webrtc_audio.html#plc">PLC</a></li>
<li class="toctree-l3"><a class="reference internal" href="webrtc_audio.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_video.html">WebRTC 视频</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_sharing.html">WebRTC Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_qos.html">WebRTC QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_cc.html">WebRTC 拥塞控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_fec.html">WebRTC FEC</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_rtx.html">WebRTC RTX</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_red.html">WebRTC RED</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_temporal_scalability.html">Temporal scalability</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_feedback.html">WebRTC Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="insertable_stream.html">Insertable Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_codec.html">Web Codecs</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_transport.html">Web Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_svc.html">WebRTC SVC</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_metrics.html">WebRTC Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_e2e_delay.html">WebRTC E2E Delay</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_simulcast.html">WebRTC Simulcast</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../4.code/index.html">4. WebRTC 源码分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.practice/index.html">5. WebRTC 实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.tool/index.html">6. WebRTC 工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.misc/index.html">7. WebRTC 关联技术</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">webrtc_tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">3. WebRTC 媒体</a></li>
          <li class="breadcrumb-item"><a href="webrtc_audio.html">WebRTC 音频</a></li>
      <li class="breadcrumb-item active">Audio QoS</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/3.media/audio_qos.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="audio-qos">
<h1>Audio QoS<a class="headerlink" href="#audio-qos" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id5">Overview</a></p></li>
<li><p><a class="reference internal" href="#a" id="id6">3A</a></p>
<ul>
<li><p><a class="reference internal" href="#agc" id="id7">AGC</a></p></li>
<li><p><a class="reference internal" href="#aec" id="id8">AEC</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id9">线路回声抵消</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id10">声学回声抵消</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ans" id="id11">ANS</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id3" id="id12">差错检测与恢复</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id13">抗丢包方案</a></p></li>
<li><p><a class="reference internal" href="#audio-plc" id="id14">Audio PLC</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>Audio Quality of Service (QoS) refers to the techniques and mechanisms used to ensure that audio data is transmitted and delivered with consistent and reliable quality, especially in real-time communication applications. Here are some steps to implement Audio QoS:</p>
<ol class="arabic">
<li><p>Identify QoS requirements: Determine the specific quality parameters that are important for your audio application.</p>
<p>This could include metrics such as latency, packet loss, jitter, and audio quality.</p>
</li>
<li><p>Prioritize audio traffic: Assign a higher priority to audio packets over other types of network traffic.</p>
<p>This can be done by setting the appropriate Differentiated Services Code Point (DSCP) or Quality of Service (QoS) markings in the IP headers of the audio packets.</p>
</li>
<li><p>Traffic shaping and bandwidth allocation: Implement traffic shaping techniques to manage the flow of audio packets.</p>
<p>This involves controlling the rate at which packets are transmitted to match the available bandwidth and minimize congestion. Allocate sufficient bandwidth to prioritize audio traffic and ensure a smooth and consistent audio stream.</p>
</li>
<li><p>Buffer management: Use a buffer to compensate for network delays and fluctuations.</p>
<p>The buffer size should be carefully optimized to balance latency and jitter. A larger buffer can absorb variations in packet arrival times but introduces additional latency. Monitor the buffer occupancy and adjust its size dynamically based on network conditions.</p>
</li>
<li><p>Error resilience mechanisms:</p>
<p>Implement error resilience techniques to handle packet loss or corruption. This can include forward error correction (FEC), where redundant data is added to the audio packets to enable recovery from lost or damaged packets. Retransmission mechanisms can also be employed to request retransmission of lost packets.</p>
</li>
<li><p>Congestion control:</p>
<p>Use congestion control mechanisms to prevent network congestion and ensure the smooth transmission of audio packets. This can involve techniques such as congestion window management, packet pacing, or adaptive bitrate control.</p>
</li>
<li><p>Network monitoring and measurement:</p>
<p>Continuously monitor the network conditions and measure key QoS parameters such as latency, packet loss, and jitter. Use this information to adapt the QoS mechanisms and optimize the audio transmission.</p>
</li>
<li><p>Quality assessment and feedback:</p>
<p>Implement mechanisms to assess the perceived audio quality at the receiver’s end. This can involve techniques such as calculating the Mean Opinion Score (MOS) or using objective quality metrics like the Perceptual Evaluation of Speech Quality (PESQ). Use the quality assessment results to provide feedback and make further improvements to the QoS mechanisms.</p>
</li>
<li><p>Test and optimize:</p>
<p>Thoroughly test your Audio QoS implementation under various network conditions to ensure its effectiveness and reliability. Measure and fine-tune parameters such as buffer size, traffic shaping algorithms, and error resilience mechanisms.</p>
</li>
<li><p>Interoperability and standards compliance:</p></li>
</ol>
<blockquote>
<div><p>Ensure that your implementation complies with relevant audio and network standards to ensure compatibility and interoperability with other systems and devices.</p>
</div></blockquote>
</section>
<section id="a">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">3A</a><a class="headerlink" href="#a" title="Permalink to this heading"></a></h2>
<section id="agc">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">AGC</a><a class="headerlink" href="#agc" title="Permalink to this heading"></a></h3>
<p>语音增强是为了解决噪声污染干扰的一种预处理手段。
理论基础是语音特性，噪声特性以及人耳的感知特性。</p>
</section>
<section id="aec">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">AEC</a><a class="headerlink" href="#aec" title="Permalink to this heading"></a></h3>
<p>回声抵消</p>
<p>回声有</p>
<ul class="simple">
<li><p>电学回声（线路回声）： 标准方法为  G.165</p></li>
<li><p>声学回声: 延时长，噪声干扰严重，语音信号动态范围大</p></li>
</ul>
<section id="id1">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">线路回声抵消</a><a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
</section>
<section id="id2">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">声学回声抵消</a><a class="headerlink" href="#id2" title="Permalink to this heading"></a></h4>
<p>方法有</p>
<ol class="arabic simple">
<li><p>麦克风阵列</p></li>
<li><p>频移的方法</p></li>
<li><p>回声抑制器</p></li>
</ol>
</section>
</section>
<section id="ans">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">ANS</a><a class="headerlink" href="#ans" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Noise_reduction">Noise reduction</a> is the process of removing noise from a signal.</p>
<p>Audio noise reduction is for audio noise.</p>
<p>Noise reduction techniques exist for audio and images. Noise reduction algorithms may distort the signal to some degree.</p>
</section>
</section>
<section id="id3">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">差错检测与恢复</a><a class="headerlink" href="#id3" title="Permalink to this heading"></a></h2>
<p>纠错码
* 线性分组码
* 卷积码
* Turbo 码
* RS 码
* RCPC 码
* LDPC 码</p>
<section id="id4">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">抗丢包方案</a><a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>语音算法本身的丢包健壮性</p></li>
<li><p>多描述语音编码 MDSC(Multiple Description Speech Coding)</p></li>
<li><p>滑动窗算法</p></li>
<li><p>交织及前身纠错技术</p></li>
<li><p>丢包隐藏技术</p></li>
</ol>
</section>
<section id="audio-plc">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Audio PLC</a><a class="headerlink" href="#audio-plc" title="Permalink to this heading"></a></h3>
<p>For the most part, audio packets are decoded frame-by-frame and usually also packet-by-packet.
If one is lost, we can try various ways to solve that. There are the most common approaches:</p>
<ul class="simple">
<li><p>Play nothing, causing ugly robotic/metallic tint to the audio</p></li>
<li><p>Duplicate the previous audio frame, sometimes reducing its volume level</p></li>
<li><p>Try to predict what the lost frame sounds like.
Today, using machine learning, maybe with something like Google’s proprietary WaveNetEQ algorithm</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="audio_api.html" class="btn btn-neutral float-left" title="Web Audio API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="audio_aec.html" class="btn btn-neutral float-right" title="Acoustic Echo Canceller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 ~ 2023, Walter Fan, Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>