<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebRTC 构建工具 &mdash; webrtc_tutorial 1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WebRTC 构建浏览器" href="build_browser.html" />
    <link rel="prev" title="WebRTC 源码概览" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> webrtc_tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0.tutorial/index.html">0. WebRTC 简明教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.basic/index.html">1. WebRTC 基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.transport/index.html">2. WebRTC 传输</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.media/index.html">3. WebRTC 媒体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4.practice/index.html">4. WebRTC 实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. WebRTC 源码分析</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">WebRTC 源码概览</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">WebRTC 构建工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">构建工具</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ninja">Ninja</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gn">gn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmake">CMake</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build_browser.html">WebRTC 构建浏览器</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_build.html">WebRTC 源码构建</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_test.html">WebRTC test</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_issues.html">WebRTC issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_demux.html">WebRTC Demux</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_thread.html">WebRTC Thread Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_call.html">WebRTC Call</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_gcc.html">WebRTC GCC</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_bwe_gcc.html">WebRTC Congestion Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_bwe_probe.html">WebRTC Bandwidth Probe</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_bwe_remb.html">WebRTC REMB Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_bwe_loss.html">WebRTC Loss based Bandwidth Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_pacer.html">WebRTC Pacer</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_dtls.html">WebRTC DTLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_sctp.html">WebRTC SCTP library</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_rtp_rtcp_module.html">WebRTC RTP RTCP module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_rtp_sender.html">WebRTC RTP Sender</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_sdp_offer_answer.html">WebRTC SDP Offer Answer</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_packet_buffer.html">WebRTC Packet Buffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_rtx_code.html">WebRTC RTX Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_nack_code.html">WebRTC NACK code</a></li>
<li class="toctree-l2"><a class="reference internal" href="overuse_frame_decoder.html">WebRTC OveruseFrameDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote_bitrate_estimator.html">Remote Bitrate Estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_pc_channel.html">WebRTC PeerConnection Channel</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_pc_example.html">WebRTC PeerConnection Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_video_flow.html">WebRTC Video Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_config.html">WebRTC Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="janus_code_1.html">Janus Code analysis 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="aiortc.html">Aiortc library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../6.tool/index.html">5. WebRTC 工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.misc/index.html">6. WebRTC 关联技术</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">webrtc_tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">5. WebRTC 源码分析</a> &raquo;</li>
      <li>WebRTC 构建工具</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/5.code/build_tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="webrtc">
<h1>WebRTC 构建工具<a class="headerlink" href="#webrtc" title="Permalink to this headline">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Abstract</strong></p></td>
<td><p>WebRTC Build Tools</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authors</strong></p></td>
<td><p>Walter Fan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Status</strong></p></td>
<td><p>WIP</p></td>
</tr>
<tr class="row-even"><td><p><strong>Updated</strong></p></td>
<td><p>2023-07-17</p></td>
</tr>
</tbody>
</table>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id3" id="id5">构建工具</a></p>
<ul>
<li><p><a class="reference internal" href="#ninja" id="id6">Ninja</a></p></li>
<li><p><a class="reference internal" href="#gn" id="id7">gn</a></p>
<ul>
<li><p><a class="reference internal" href="#passing-build-arguments" id="id8">Passing build arguments</a></p></li>
<li><p><a class="reference internal" href="#cross-compiling-to-a-target-os-or-architecture" id="id9">Cross-compiling to a target OS or architecture</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id10">.gn</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#cmake" id="id11">CMake</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="id3">
<h2><a class="toc-backref" href="#id5">构建工具</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<section id="ninja">
<h3><a class="toc-backref" href="#id6">Ninja</a><a class="headerlink" href="#ninja" title="Permalink to this headline">¶</a></h3>
<p>Ninja is yet another build system. It takes as input the interdependencies of files (typically source code and output executables) and orchestrates building them, quickly.</p>
<p>Run ninja. By default, it looks for a file named build.ninja in the current directory and builds all out-of-date targets. You can specify which targets (files) to build as command line arguments.</p>
<p>There is also a special syntax target^ for specifying a target as the first output of some rule containing the source you put in the command line, if one exists. For example, if you specify target as foo.c^ then foo.o will get built (assuming you have those targets in your build files).</p>
</section>
<section id="gn">
<h3><a class="toc-backref" href="#id7">gn</a><a class="headerlink" href="#gn" title="Permalink to this headline">¶</a></h3>
<p>The meta-build system used to generate build files for Google Chrome and related projects (v8, node.js), as well as Google Fuchsia. gn can generate Ninja files for all platforms supported by Chrome.</p>
<p>refer to
* <a class="reference external" href="https://gn.googlesource.com/gn/+/HEAD/docs/quick_start.md">https://gn.googlesource.com/gn/+/HEAD/docs/quick_start.md</a>
* <a class="reference external" href="https://www.chromium.org/developers/gn-build-configuration/">https://www.chromium.org/developers/gn-build-configuration/</a></p>
<section id="passing-build-arguments">
<h4><a class="toc-backref" href="#id8">Passing build arguments</a><a class="headerlink" href="#passing-build-arguments" title="Permalink to this headline">¶</a></h4>
<p>Set build arguments on your build directory by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gn</span> <span class="n">args</span> <span class="n">out</span><span class="o">/</span><span class="n">my_build</span>
</pre></div>
</div>
</section>
<section id="cross-compiling-to-a-target-os-or-architecture">
<h4><a class="toc-backref" href="#id9">Cross-compiling to a target OS or architecture</a><a class="headerlink" href="#cross-compiling-to-a-target-os-or-architecture" title="Permalink to this headline">¶</a></h4>
<p>Run gn args out/Default (substituting your build directory as needed) and add one or more of the following lines for common cross-compiling options.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">target_os</span> <span class="o">=</span> <span class="s2">&quot;chromeos&quot;</span>
<span class="n">target_os</span> <span class="o">=</span> <span class="s2">&quot;android&quot;</span>

<span class="n">target_cpu</span> <span class="o">=</span> <span class="s2">&quot;arm&quot;</span>
<span class="n">target_cpu</span> <span class="o">=</span> <span class="s2">&quot;x86&quot;</span>
<span class="n">target_cpu</span> <span class="o">=</span> <span class="s2">&quot;x64&quot;</span>
</pre></div>
</div>
</section>
<section id="id4">
<h4><a class="toc-backref" href="#id10">.gn</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>.gn 文件是 GN build 的 “源文件”，在这里可以做各种条件判断和配置，gn 会根据这些配置生成特定的 ninja 文件。</p>
<p>.gn 文件中可以使用预定义的参数，比如 is_debug ， target_os ， rtc_use_h264 等。</p>
<p>.gn 中可以 import .gni 文件。</p>
</section>
</section>
<section id="cmake">
<h3><a class="toc-backref" href="#id11">CMake</a><a class="headerlink" href="#cmake" title="Permalink to this headline">¶</a></h3>
<p>A widely used meta-build system that can generate Ninja files on Linux as of CMake version 2.8.8. Newer versions of CMake support generating Ninja files on Windows and Mac OS X too.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="WebRTC 源码概览" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build_browser.html" class="btn btn-neutral float-right" title="WebRTC 构建浏览器" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Walter Fan, Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>