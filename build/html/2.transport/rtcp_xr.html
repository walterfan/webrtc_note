<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RTCP XR &mdash; webrtc_tutorial 1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=e536ea0c" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=29a6c3e3"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WebRTC Data Channel" href="webrtc_data_channel.html" />
    <link rel="prev" title="RTCP App" href="rtcp_app.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            webrtc_tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0.tutorial/index.html">0. WebRTC 简明教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.basic/index.html">1. WebRTC 基础</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. WebRTC 传输</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">WebRTC 传输概论</a></li>
<li class="toctree-l2"><a class="reference internal" href="websocket.html">WebSocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="stun.html">STUN</a></li>
<li class="toctree-l2"><a class="reference internal" href="turn.html">TURN</a></li>
<li class="toctree-l2"><a class="reference internal" href="ice.html">Interactive Connectivity Establishment</a></li>
<li class="toctree-l2"><a class="reference internal" href="quic.html">QUIC 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtmp.html">RTMP 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="tls.html">TLS 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="dtls.html">DTLS 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="sctp.html">SCTP 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="srtp.html">SRTP 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="whip.html">WHIP 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="bfcp.html">BFCP 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtp.html">WebRTC RTP Usage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="rtcp.html">WebRTC RTCP Usage</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="rtcp_sr.html">RTCP Sender Report</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtcp_rr.html">RTCP Receiver Report</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtcp_sdes.html">RTCP SDES</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtcp_bye.html">RTCP Bye</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtcp_app.html">RTCP App</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">RTCP XR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xr-packet-format">XR Packet Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extended-report-block-framework">Extended Report Block Framework</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rtcp.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="rtcp.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_data_channel.html">WebRTC Data Channel</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtp_header_extension.html">WebRTC RTP Header extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtp_keepalive.html">RTP Keepalive</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_multiplex.html">WebRTC 传输的多路复用</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_ndi.html">Network Device Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="webrtc_bundle.html">WebRTC Bundle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3.media/index.html">3. WebRTC 媒体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4.code/index.html">4. WebRTC 源码分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.practice/index.html">5. WebRTC 实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.tool/index.html">6. WebRTC 工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7.misc/index.html">7. WebRTC 关联技术</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">webrtc_tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">2. WebRTC 传输</a></li>
          <li class="breadcrumb-item"><a href="rtcp.html">WebRTC RTCP Usage</a></li>
      <li class="breadcrumb-item active">RTCP XR</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/2.transport/rtcp_xr.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rtcp-xr">
<h1>RTCP XR<a class="headerlink" href="#rtcp-xr" title="Link to this heading"></a></h1>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Abstract</strong></p></td>
<td><p>RTCP XR</p></td>
</tr>
<tr class="row-even"><td><p><strong>Authors</strong></p></td>
<td><p>Walter Fan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Status</strong></p></td>
<td><p>WIP as draft</p></td>
</tr>
<tr class="row-even"><td><p><strong>Updated</strong></p></td>
<td><p>2024-08-21</p></td>
</tr>
</tbody>
</table>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id4">Overview</a></p></li>
<li><p><a class="reference internal" href="#xr-packet-format" id="id5">XR Packet Format</a></p></li>
<li><p><a class="reference internal" href="#extended-report-block-framework" id="id6">Extended Report Block Framework</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>RFC3611 RTCP Extended Reports (RTCP XR)</p>
<p>packet-by-packet block types:</p>
<ul class="simple">
<li><p>Loss RLE Report Block: Run length encoding of reports concerning the losses and receipts of RTP packets.</p></li>
<li><p>Duplicate RLE Report Block: Run length encoding of reports concerning duplicates of received RTP packets.</p></li>
<li><p>Packet Receipt Times Report Block: A list of reception timestamps of RTP packets.</p></li>
</ul>
<p>reference time related block types:</p>
<ul class="simple">
<li><p>Receiver Reference Time Report Block: Receiver-end wallclock timestamps. Together with the DLRR Report Block mentioned next, these allow non-senders to calculate round-trip times.</p></li>
<li><p>DLRR Report Block: The delay since the last Receiver Reference Time Report Block was received.</p></li>
</ul>
<p>Two summary metric block types:
* Statistics Summary Report Block: Statistics on RTP packet sequence numbers, losses, duplicates, jitter, and TTL or Hop Limit values.
* VoIP Metrics Report Block: Metrics for monitoring Voice over IP (VoIP) calls</p>
</section>
<section id="xr-packet-format">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">XR Packet Format</a><a class="headerlink" href="#xr-packet-format" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
 <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span><span class="n">V</span><span class="o">=</span><span class="mi">2</span><span class="o">|</span><span class="n">P</span><span class="o">|</span><span class="n">reserved</span> <span class="o">|</span>   <span class="n">PT</span><span class="o">=</span><span class="n">XR</span><span class="o">=</span><span class="mi">207</span>   <span class="o">|</span>             <span class="n">length</span>            <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>                              <span class="n">SSRC</span>                             <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="p">:</span>                         <span class="n">report</span> <span class="n">blocks</span>                         <span class="p">:</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<dl class="simple">
<dt>version (V): 2 bits</dt><dd><p>Identifies the version of RTP.  This specification applies to
RTP version two.</p>
</dd>
<dt>padding (P): 1 bit</dt><dd><p>If the padding bit is set, this XR packet contains some
additional padding octets at the end.  The semantics of this
field are identical to the semantics of the padding field in
the SR packet, as defined by the RTP specification.</p>
</dd>
<dt>reserved: 5 bits</dt><dd><p>This field is reserved for future definition.  In the absence
of such definition, the bits in this field MUST be set to zero
and MUST be ignored by the receiver.</p>
</dd>
<dt>packet type (PT): 8 bits</dt><dd><p>Contains the constant 207 to identify this as an RTCP XR
packet.  This value is registered with the Internet Assigned
Numbers Authority (IANA), as described in Section 6.1.</p>
</dd>
<dt>length: 16 bits</dt><dd><p>As described for the RTCP Sender Report (SR) packet (see
Section 6.4.1 of the RTP specification [9]).  Briefly, the
length of this XR packet in 32-bit words minus one, including
the header and any padding.</p>
</dd>
<dt>SSRC: 32 bits</dt><dd><p>The synchronization source identifier for the originator of
this XR packet.</p>
</dd>
<dt>report blocks: variable length.</dt><dd><p>Zero or more extended report blocks.  In keeping with the
extended report block framework defined below, each block MUST
consist of one or more 32-bit words.</p>
</dd>
</dl>
</section>
<section id="extended-report-block-framework">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Extended Report Block Framework</a><a class="headerlink" href="#extended-report-block-framework" title="Link to this heading"></a></h2>
<p>Extended report blocks are stacked, one after the other, at the end
of an XR packet.  An individual block’s length is a multiple of 4
octets.  The XR header’s length field describes the total length of
the packet, including these extended report blocks.</p>
<p>Each block has block type and length fields that facilitate parsing.
A receiving application can demultiplex the blocks based upon their
type, and can use the length information to locate each successive
block, even in the presence of block types it does not recognize.</p>
<p>An extended report block has the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">0</span>                   <span class="mi">1</span>                   <span class="mi">2</span>                   <span class="mi">3</span>
 <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="o">|</span>      <span class="n">BT</span>       <span class="o">|</span> <span class="nb">type</span><span class="o">-</span><span class="n">specific</span> <span class="o">|</span>         <span class="n">block</span> <span class="n">length</span>          <span class="o">|</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
<span class="p">:</span>             <span class="nb">type</span><span class="o">-</span><span class="n">specific</span> <span class="n">block</span> <span class="n">contents</span>                      <span class="p">:</span>
<span class="o">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span>
</pre></div>
</div>
<ul class="simple">
<li><p>block type (BT): 8 bits</p></li>
</ul>
<p>Identifies the block format.  Seven block types are defined in
Section 4.  Additional block types may be defined in future
specifications.  This field’s name space is managed by the
Internet Assigned Numbers Authority (IANA), as described in
Section 6.2.</p>
<ul class="simple">
<li><p>type-specific: 8 bits</p></li>
</ul>
<p>The use of these bits is determined by the block type definition.</p>
<ul class="simple">
<li><p>block length: 16 bits</p></li>
</ul>
<p>The length of this report block, including the header, in 32-
bit words minus one.  If the block type definition permits,
zero is an acceptable value, signifying a block that consists
of only the BT, type-specific, and block length fields, with a
null type-specific block contents field.</p>
<ul class="simple">
<li><p>type-specific block contents: variable length</p></li>
</ul>
<p>The use of this field is defined by the particular block type,
subject to the constraint that it MUST be a multiple of 32 bits
long.  If the block type definition permits, It MAY be zero
bits long.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">“RTCP Extended Report Block”</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 30.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>类型</p></th>
<th class="head"><p>名称</p></th>
<th class="head"><p>内容</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Loss RLE Report Block</p></td>
<td><p>Run Length Chunk, Bit Vector Chunk, Terminating Null Chunk</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Duplicate RLE Report Block</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Packet Receipt Times Report Block</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Receiver Reference Time Report Block</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>DLRR Report Block</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Statistics Summary Report Block</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>VoIP Metrics Report Block</p></td>
<td><p>Packet Loss and Discard Metrics, Burst Metrics, Delay Metrics, Signal Related Metrics, Call Quality or Transmission Quality Metrics, Configuration Parameters, Jitter Buffer Parameters</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rtcp_app.html" class="btn btn-neutral float-left" title="RTCP App" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="webrtc_data_channel.html" class="btn btn-neutral float-right" title="WebRTC Data Channel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021 ~ 2023, Walter Fan, Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>